<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>blink Documentation</title>
    <link rel="stylesheet" href="ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>blink</h1>



<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Lifecycle_Methods">Lifecycle Methods </a></li>
<li><a href="#Informational_Methods">Informational Methods </a></li>
<li><a href="#Color_Methods">Color Methods </a></li>
<li><a href="#Pattern_Methods">Pattern Methods </a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><strong>blink</strong></li>
</ul>
<h2>Topics</h2>
<ul class="">
  <li><a href="topics/README.md.html">README</a></li>
  <li><a href="topics/CHANGELOG.md.html">CHANGELOG</a></li>
  <li><a href="topics/LICENSE.html">LICENSE</a></li>
</ul>
<h2>Examples</h2>
<ul class="nowrap">
  <li><a href="examples/fader.lua.html">fader.lua</a></li>
  <li><a href="examples/glimmer.lua.html">glimmer.lua</a></li>
  <li><a href="examples/toggle.lua.html">toggle.lua</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>blink</code></h1>
<p>Lua binding to the Blink(1) library.</p>
<p> The <a href="https://blink1.thingm.com/">blink(1)</a> is a small RGB LED that plugs into a USB port and can be used
 to indicate server status, receipt of new email, completion of a compilation job, or
 anything else you might want to signal. This library allows you to control these devices with Lua.</p>

<p> This documentation uses the term <em>function</em> to refer to device-independent functionality, such as list all the
 attached devices, and <em>method</em> to refer to functions provided by a blink(1) object's metatable, i.e. device
 <em>dependent</em> functionality, such as displaying a particular color.</p>

<p> Functions should be invoked using dot notation, e.g.</p>

<p> <code>blink.enumerate()</code></p>

<p> whereas methods should be invoked using colon notation, e.g.:</p>

<p> <code>device:set(r, g, b)</code></p>

<p> otherwise the method will throw an error.</p>

<p> The <a href="topics/README.md.html">README</a> file provides installation instructions.</p>

<p> <strong>NOTE</strong>: This library is primarily designed to work with the Mark 2 version of the blink(1). The code
 <em>should</em> work with Mark 3 devices (<em>although it does not implement Mark 3 functionality such as notes</em>); it
 probably isn't very useful for Markk 1 devices since the C API changed substantially from Mark 1 to Mark 2. </p>
    <h3>Info:</h3>
    <ul>
        <li><strong>Copyright</strong>: 2014-2024 BlueDino Software</li>
        <li><strong>Release</strong>: 2.0.0</li>
        <li><strong>License</strong>: MIT License (see <a href="topics/LICENSE.html">LICENSE</a>)</li>
        <li><strong>Author</strong>: Matthew M. Burke</li>
    </ul>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#enumerate">enumerate ()</a></td>
	<td class="summary">Returns the number of attached blink(1) devices.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#gamma">gamma ()</a></td>
	<td class="summary">Enables gamma correction.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#list">list ()</a></td>
	<td class="summary">Returns a table with descriptions of all attached devices.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#noGamma">noGamma ()</a></td>
	<td class="summary">Disables gamma correction.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#open">open ([devspec])</a></td>
	<td class="summary">Opens a blink(1) device.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#pid">pid ()</a></td>
	<td class="summary">Returns the USB Product ID for the blink(1).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#sleep">sleep ([millis])</a></td>
	<td class="summary">Platform-independent, millisecond-resolution sleep.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#vid">vid ()</a></td>
	<td class="summary">Returns the USB vendor ID for ThingM.</td>
	</tr>
</table>
<h2><a href="#Lifecycle_Methods">Lifecycle Methods </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#close">close ()</a></td>
	<td class="summary">Turns the device off, then detaches it.</td>
	</tr>
</table>
<h2><a href="#Informational_Methods">Informational Methods </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#version">version ()</a></td>
	<td class="summary">Returns the firmware version of the device.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#serial">serial ()</a></td>
	<td class="summary">Returns the serial number of the device.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#isMk2">isMk2 ()</a></td>
	<td class="summary">Returns true/false if the device is/isn't a Mark 2.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#type">type ()</a></td>
	<td class="summary">Returns an integer indicating the version of the blink(1).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#typestring">typestring ()</a></td>
	<td class="summary">Returns the version of the blink(1) as a string.</td>
	</tr>
</table>
<h2><a href="#Color_Methods">Color Methods </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#set">set (r, g, b)</a></td>
	<td class="summary">Sets the device to the given RGB value.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#black">black ()</a></td>
	<td class="summary">Turns the device off.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#blue">blue ()</a></td>
	<td class="summary">Turns the device blue.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#cyan">cyan ()</a></td>
	<td class="summary">Turns the device cyan.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#green">green ()</a></td>
	<td class="summary">Turns the device green.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#magenta">magenta ()</a></td>
	<td class="summary">Turns the device magenta.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#off">off ()</a></td>
	<td class="summary">Turns the device off.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#on">on ()</a></td>
	<td class="summary">Turns the device on.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#orange">orange ()</a></td>
	<td class="summary">Turns the device orange.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#red">red ()</a></td>
	<td class="summary">Turns the device red.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#white">white ()</a></td>
	<td class="summary">Turns the device on.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#yellow">yellow ()</a></td>
	<td class="summary">Turns the device yellow.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#dim">dim ()</a></td>
	<td class="summary">Dims the color displayed by the device.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#brighten">brighten ()</a></td>
	<td class="summary">Brightens the color displayed by the device.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#fade">fade (millis, red, green, blue, n)</a></td>
	<td class="summary">Fades device to given RGB over given number of milliseconds.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get">get ([n])</a></td>
	<td class="summary">Returns the last RGB value for the given device.</td>
	</tr>
</table>
<h2><a href="#Pattern_Methods">Pattern Methods </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#play">play ([count[, start[, stop]]])</a></td>
	<td class="summary">Plays the current pattern.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#stop">stop ()</a></td>
	<td class="summary">Stops playing the current pattern.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#readplay">readplay ()</a></td>
	<td class="summary">Retrieves information on current play state.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#setpattpos">setpattpos (millis, r, g, b, pos)</a></td>
	<td class="summary">Write pattern description for specified position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#getpattpos">getpattpos (pos)</a></td>
	<td class="summary">Read pattern description at specified position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#clearpattern">clearpattern ()</a></td>
	<td class="summary">Clears the entire pattern.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#readpattern">readpattern ()</a></td>
	<td class="summary">Returns the devices pattern in a Lua table.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#writepattern">writepattern ()</a></td>
	<td class="summary">Writes a pattern ...</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#savepattern">savepattern ()</a></td>
	<td class="summary">Saves pattern from RAM into flash.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "enumerate"></a>
    <strong>enumerate ()</strong>
    </dt>
    <dd>
    Returns the number of attached blink(1) devices.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        number of attached devices
    </ol>




</dd>
    <dt>
    <a name = "gamma"></a>
    <strong>gamma ()</strong>
    </dt>
    <dd>
    Enables gamma correction. </p>

<p> Gamma correction is enabled by default. See the source code
 for the <code>blink1-tool</code> for details on how gamma correction is
 implemented.





    <h3>See also:</h3>
    <ul>
         <a href="index.html#noGamma">noGamma</a>
    </ul>


</dd>
    <dt>
    <a name = "list"></a>
    <strong>list ()</strong>
    </dt>
    <dd>
    Returns a table with descriptions of all attached devices. </p>

<p> Each entry is itself a table which describes a single device.</p>

<p> The subtables have the following keys:
 <ul>
 <li>devid - an integer index for the device</li>
 <li>mark - an integer specifying the device version (mk1, mk2, mk3)</li>
 <li>serial - the device's serial number, a hexadecimal value</li>
 </ul>



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.4/manual.html#6.6">table</a></span>
        each entry describes an attached device
    </ol>




</dd>
    <dt>
    <a name = "noGamma"></a>
    <strong>noGamma ()</strong>
    </dt>
    <dd>
    Disables gamma correction.





    <h3>See also:</h3>
    <ul>
         <a href="index.html#gamma">gamma</a>
    </ul>


</dd>
    <dt>
    <a name = "open"></a>
    <strong>open ([devspec])</strong>
    </dt>
    <dd>
    Opens a blink(1) device. </p>

<p> This function creates a userdata bound to a specified blink(1). If called without a parameter,
 it returns a userdata bound to the blink(1) device with ID 0. Otherwise it attempts to bind to the specified device.</p>

<p> A particular device is specified
 either by an integer ID or a string of 8 hexadecimal characters. Integer IDs must be between
 <code>0</code> and <code>n-1</code> (<em>where n is the number of attached devices</em>).</p>

<p> Hex strings are used to specify the serial number of a particular device. Serial numbers of all plugged in devices
 can be found using the <code><a href="index.html#list">list</a></code> function.</p>

<p> <code>Open</code> will throw an error on invalid arguments or issues opening the device. This error can be caught by
 wrapping the call in <code><a href="https://www.lua.org/manual/5.4/manual.html#pdf-pcall">pcall</a></code>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">devspec</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.4/manual.html#6.4">string</a> or <span class="type">int</span></span>
         device ID or serial number
         (<em>optional</em>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">userdata</span></span>
        object bound to the specified device
    </ol>

    <h3>Raises:</h3>
    error on invalid arguments or error opening device



</dd>
    <dt>
    <a name = "pid"></a>
    <strong>pid ()</strong>
    </dt>
    <dd>
    Returns the USB Product ID for the blink(1). </p>

<p> USB devices have an assigned product ID (PID) and
 vendor ID (VID); these are both 16-bit numbers are are used to
 indentify the device to the hosting computer. The VID is assigned by the USB
 Implementers Forum and the PID is assigned by the manufacturer of the device.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        Product ID.
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="index.html#vid">vid</a>
    </ul>


</dd>
    <dt>
    <a name = "sleep"></a>
    <strong>sleep ([millis])</strong>
    </dt>
    <dd>
    Platform-independent, millisecond-resolution sleep. </p>

<p> This function is blocking.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">millis</span>
            <span class="types"><span class="type">int</span></span>
         milliseconds to pause; defaults to 100
         (<em>optional</em>)
        </li>
    </ul>


    <h3>Raises:</h3>
    error if <code>millis</code> &lt; 0



</dd>
    <dt>
    <a name = "vid"></a>
    <strong>vid ()</strong>
    </dt>
    <dd>
    Returns the USB vendor ID for ThingM. </p>

<p> USB devices have an assigned product ID (PID) and
 vendor ID (VID); these are both 16-bit numbers are are used to
 indentify the device to the hosting computer. The VID is assigned by the USB
 Implementers Forum and the PID is assigned by the manufacturer of the device.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        Vendor ID.
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="index.html#pid">pid</a>
    </ul>


</dd>
</dl>
    <h2 class="section-header "><a name="Lifecycle_Methods"></a>Lifecycle Methods </h2>

    <dl class="function">
    <dt>
    <a name = "close"></a>
    <strong>close ()</strong>
    </dt>
    <dd>
    Turns the device off, then detaches it. </p>

<p> Calling <code>close</code> does not delete the userdata, but any subsequent
 calls to this object will return <code>nil</code> and an error message.







</dd>
</dl>
    <h2 class="section-header "><a name="Informational_Methods"></a>Informational Methods </h2>

    <dl class="function">
    <dt>
    <a name = "version"></a>
    <strong>version ()</strong>
    </dt>
    <dd>
    Returns the firmware version of the device.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.4/manual.html#6.4">string</a></span>
        firmware version number
    </ol>




</dd>
    <dt>
    <a name = "serial"></a>
    <strong>serial ()</strong>
    </dt>
    <dd>
    Returns the serial number of the device.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.4/manual.html#6.4">string</a></span>
        serial number
    </ol>




</dd>
    <dt>
    <a name = "isMk2"></a>
    <strong>isMk2 ()</strong>
    </dt>
    <dd>
    Returns true/false if the device is/isn't a Mark 2.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">boolean</span></span>
        true if device is Mark 2, false otherwise
    </ol>




</dd>
    <dt>
    <a name = "type"></a>
    <strong>type ()</strong>
    </dt>
    <dd>
    Returns an integer indicating the version of the blink(1). </p>

<p> This function returns 1 for a Mark 1 device 2 for Mark 2, etc.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">int</span></span>
        the version of the device
    </ol>




</dd>
    <dt>
    <a name = "typestring"></a>
    <strong>typestring ()</strong>
    </dt>
    <dd>
    Returns the version of the blink(1) as a string. </p>

<p> This will be <code>mk1</code>, <code>mk2</code>, <code>mk3</code>.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.4/manual.html#6.4">string</a></span>
        the version of the device
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Color_Methods"></a>Color Methods </h2>

    <dl class="function">
    <dt>
    <a name = "set"></a>
    <strong>set (r, g, b)</strong>
    </dt>
    <dd>
    Sets the device to the given RGB value.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">r</span>
            <span class="types"><span class="type">int</span></span>
         red value in range [0-255]
        </li>
        <li><span class="parameter">g</span>
            <span class="types"><span class="type">int</span></span>
         green value in range [0-255]
        </li>
        <li><span class="parameter">b</span>
            <span class="types"><span class="type">int</span></span>
         blue value in range [0-255]
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        true if the color is set
    </ol>

    <h3>Raises:</h3>
    error if either r, g, or b not in the correct range



</dd>
    <dt>
    <a name = "black"></a>
    <strong>black ()</strong>
    </dt>
    <dd>
    Turns the device off.  Equivalent to <code>set(0, 0, 0)</code>







</dd>
    <dt>
    <a name = "blue"></a>
    <strong>blue ()</strong>
    </dt>
    <dd>
    Turns the device blue.  Equivalent to <code>set(0, 0, 255)</code>







</dd>
    <dt>
    <a name = "cyan"></a>
    <strong>cyan ()</strong>
    </dt>
    <dd>
    Turns the device cyan.  Equivalent to <code>set(0, 255, 255)</code>







</dd>
    <dt>
    <a name = "green"></a>
    <strong>green ()</strong>
    </dt>
    <dd>
    Turns the device green.  Equivalent to <code>set(0, 255, 0)</code>







</dd>
    <dt>
    <a name = "magenta"></a>
    <strong>magenta ()</strong>
    </dt>
    <dd>
    Turns the device magenta.  Equivalent to <code>set(255, 0, 255)</code>







</dd>
    <dt>
    <a name = "off"></a>
    <strong>off ()</strong>
    </dt>
    <dd>
    Turns the device off.  Equivalent to <code>set(0, 0, 0)</code>







</dd>
    <dt>
    <a name = "on"></a>
    <strong>on ()</strong>
    </dt>
    <dd>
    Turns the device on.  Equivalent to <code>set(255, 255, 255)</code>







</dd>
    <dt>
    <a name = "orange"></a>
    <strong>orange ()</strong>
    </dt>
    <dd>
    Turns the device orange.  Equivalent to <code>set(255, 165, 0)</code>







</dd>
    <dt>
    <a name = "red"></a>
    <strong>red ()</strong>
    </dt>
    <dd>
    Turns the device red.  Equivalent to <code>set(255, 0, 0)</code>







</dd>
    <dt>
    <a name = "white"></a>
    <strong>white ()</strong>
    </dt>
    <dd>
    Turns the device on.  Equivalent to <code>set(255, 255, 255)</code>







</dd>
    <dt>
    <a name = "yellow"></a>
    <strong>yellow ()</strong>
    </dt>
    <dd>
    Turns the device yellow.  Equivalent to <code>set(255, 255, 0)</code>







</dd>
    <dt>
    <a name = "dim"></a>
    <strong>dim ()</strong>
    </dt>
    <dd>
    Dims the color displayed by the device.  Note: calling this function
 forces Gamma correction off. You will need to explicitly turn it back on if
 you want it afterwards.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">boolean</span></span>
        true if successful | false and an error description if not
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="index.html#brighten">brighten</a>
    </ul>


</dd>
    <dt>
    <a name = "brighten"></a>
    <strong>brighten ()</strong>
    </dt>
    <dd>
    Brightens the color displayed by the device.  Note: calling this function
 forces Gamma correction off. You will need to explicitly turn it back on if
 you want it afterwards.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">boolean</span></span>
        true if successful | false and an error description if not
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="index.html#dim">dim</a>
    </ul>


</dd>
    <dt>
    <a name = "fade"></a>
    <strong>fade (millis, red, green, blue, n)</strong>
    </dt>
    <dd>
    Fades device to given RGB over given number of milliseconds. </p>

<p> You can specify either the top, bottom, or both LEDs to fade.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">millis</span>
            <span class="types"><span class="type">integer</span></span>
         the fade duration
        </li>
        <li><span class="parameter">red</span>
            <span class="types"><span class="type">integer</span></span>
         the red component [0-255]
        </li>
        <li><span class="parameter">green</span>
            <span class="types"><span class="type">integer</span></span>
         the green component [0-255]
        </li>
        <li><span class="parameter">blue</span>
            <span class="types"><span class="type">integer</span></span>
         the blue component [0-255]
        </li>
        <li><span class="parameter">n</span>
            <span class="types"><span class="type">integer</span></span>
         which LED to adjust; 0 - both; 1 - top; 2 - bottom
        </li>
    </ul>





</dd>
    <dt>
    <a name = "get"></a>
    <strong>get ([n])</strong>
    </dt>
    <dd>
    Returns the last RGB value for the given device. </p>

<p> If you specify 0, 1 or no parameter, it retrieves the bottom LED.
 If you specify 2, it returns the top LED. The retrieved value is
 after gamma correction (<em>if enabled</em>).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">n</span>
            <span class="types"><span class="type">int</span></span>
         the LED to retrieve
         (<em>optional</em>)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">int</span></span>
        last set red value [0, 255]</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        last set green value [0, 255]</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        last set blue value [0, 255]</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        last set millis value</li>
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Pattern_Methods"></a>Pattern Methods </h2>

    <dl class="function">
    <dt>
    <a name = "play"></a>
    <strong>play ([count[, start[, stop]]])</strong>
    </dt>
    <dd>
    Plays the current pattern. </p>

<p> Optionally specify a sub-range to play, as
 well as an optional count (0 = loop forever).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">count</span>
            <span class="types"><span class="type">int</span></span>
         the number of times to play
         (<em>optional</em>)
        </li>
        <li><span class="parameter">start</span>
            <span class="types"><span class="type">int</span></span>
         the starting position
         (<em>optional</em>)
        </li>
        <li><span class="parameter">stop</span>
            <span class="types"><span class="type">int</span></span>
         the end position
         (<em>optional</em>)
        </li>
    </ul>





</dd>
    <dt>
    <a name = "stop"></a>
    <strong>stop ()</strong>
    </dt>
    <dd>
    Stops playing the current pattern.







</dd>
    <dt>
    <a name = "readplay"></a>
    <strong>readplay ()</strong>
    </dt>
    <dd>
    Retrieves information on current play state. </p>

<p> Displays information about the pattern loaded into the device.
 The <code>count</code> value decreases by one each time the pattern
 repeats and is 0 when the pattern has played the specified number
 of times &mdash; unless the count was 0 when the play command was issued;
 in which case, the pattern repeats indefinitely and count is always 0.



    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">bool</span></span>
        true if pattern is playing</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        start position</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        end position</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        count</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        current position</li>
    </ol>




</dd>
    <dt>
    <a name = "setpattpos"></a>
    <strong>setpattpos (millis, r, g, b, pos)</strong>
    </dt>
    <dd>
    Write pattern description for specified position.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">millis</span>
            <span class="types"><span class="type">int</span></span>
         the length of time to display
        </li>
        <li><span class="parameter">r</span>
            <span class="types"><span class="type">int</span></span>
         the red value to display
        </li>
        <li><span class="parameter">g</span>
            <span class="types"><span class="type">int</span></span>
         the green value to display
        </li>
        <li><span class="parameter">b</span>
            <span class="types"><span class="type">int</span></span>
         the blue value to display
        </li>
        <li><span class="parameter">pos</span>
            <span class="types"><span class="type">int</span></span>
         the position to set
        </li>
    </ul>





</dd>
    <dt>
    <a name = "getpattpos"></a>
    <strong>getpattpos (pos)</strong>
    </dt>
    <dd>
    Read pattern description at specified position.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">pos</span>
            <span class="types"><span class="type">int</span></span>
         the position to read
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">int</span></span>
        millis the length of time to display</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        r the red value displayed</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        g the green value displayed</li>
        <li>
           <span class="types"><span class="type">int</span></span>
        b the blue value displayed</li>
    </ol>




</dd>
    <dt>
    <a name = "clearpattern"></a>
    <strong>clearpattern ()</strong>
    </dt>
    <dd>
    Clears the entire pattern.







</dd>
    <dt>
    <a name = "readpattern"></a>
    <strong>readpattern ()</strong>
    </dt>
    <dd>
    Returns the devices pattern in a Lua table. </p>

<p> This function returns a description of the current pattern in the
 device's RAM. The description is formatted as a Lua table with each
 table entry itself a sub-table describing the color details at a particular position.
 This sub-table has entries for the red, green and blue components as well as the time
 (in milliseconds) to display the color. Position 0 is at index 0, position 1 at index
 1, etc.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="https://www.lua.org/manual/5.4/manual.html#6.6">table</a></span>
        the current pattern
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="index.html#writepattern">writepattern</a>
    </ul>


</dd>
    <dt>
    <a name = "writepattern"></a>
    <strong>writepattern ()</strong>
    </dt>
    <dd>
    Writes a pattern ...
 Pattern position indices run from 0 to MaxPattern - 1.
 By "default", Lua table indices are 1-based. So t[1] is mapped
 to pattern 0, etc.





    <h3>See also:</h3>
    <ul>
         <a href="index.html#readpattern">readpattern</a>
    </ul>


</dd>
    <dt>
    <a name = "savepattern"></a>
    <strong>savepattern ()</strong>
    </dt>
    <dd>
    Saves pattern from RAM into flash.



    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">boolean</span></span>
        returns true if the pattern saved or nil and an error message otherwise
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc 1.5.0</a></i>
<i style="float:right;">Last updated 2024-06-28 21:50:21 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
